<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Exploratory Data Analysis – Rossmann Store Sales</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Rossmann Store Sales</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Project Overview</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../notebooks/01_eda.html" aria-current="page"> 
<span class="menu-text">EDA</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-modeling" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Modeling</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-modeling">    
        <li>
    <a class="dropdown-item" href="../notebooks/02_preprocessing.html">
 <span class="dropdown-text">Preprocessing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../notebooks/03_modeling.html">
 <span class="dropdown-text">Modeling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../notebooks/04_interpretation.html">
 <span class="dropdown-text">Interpretation</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../notebooks/05_final_report.html"> 
<span class="menu-text">Final Report</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../reports/model_eval.html"> 
<span class="menu-text">Model Eval</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../dashboard.html"> 
<span class="menu-text">Dashboard</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#notebook-outline" id="toc-notebook-outline" class="nav-link" data-scroll-target="#notebook-outline">Notebook Outline</a></li>
  <li><a href="#load-and-validate-data" id="toc-load-and-validate-data" class="nav-link" data-scroll-target="#load-and-validate-data">1. Load and validate data</a>
  <ul class="collapse">
  <li><a href="#column-validation" id="toc-column-validation" class="nav-link" data-scroll-target="#column-validation">Column validation</a></li>
  <li><a href="#drop-non-informative-columns" id="toc-drop-non-informative-columns" class="nav-link" data-scroll-target="#drop-non-informative-columns">Drop non-informative columns</a></li>
  <li><a href="#export-dataset-with-dropped-columns" id="toc-export-dataset-with-dropped-columns" class="nav-link" data-scroll-target="#export-dataset-with-dropped-columns">Export dataset with dropped columns</a></li>
  </ul></li>
  <li><a href="#initial-data-summary" id="toc-initial-data-summary" class="nav-link" data-scroll-target="#initial-data-summary">2. Initial data summary</a>
  <ul class="collapse">
  <li><a href="#target-variable-distribution-attrition" id="toc-target-variable-distribution-attrition" class="nav-link" data-scroll-target="#target-variable-distribution-attrition">Target variable distribution: <code>Attrition</code></a></li>
  </ul></li>
  <li><a href="#univariate-analysis" id="toc-univariate-analysis" class="nav-link" data-scroll-target="#univariate-analysis">3. Univariate analysis</a>
  <ul class="collapse">
  <li><a href="#numeric-features" id="toc-numeric-features" class="nav-link" data-scroll-target="#numeric-features">Numeric features</a>
  <ul class="collapse">
  <li><a href="#demographics" id="toc-demographics" class="nav-link" data-scroll-target="#demographics">Demographics</a></li>
  <li><a href="#compensation" id="toc-compensation" class="nav-link" data-scroll-target="#compensation">Compensation</a></li>
  <li><a href="#satisfaction-and-engagement" id="toc-satisfaction-and-engagement" class="nav-link" data-scroll-target="#satisfaction-and-engagement">Satisfaction and engagement</a></li>
  <li><a href="#tenure-and-career" id="toc-tenure-and-career" class="nav-link" data-scroll-target="#tenure-and-career">Tenure and career</a></li>
  </ul></li>
  <li><a href="#categorical-features" id="toc-categorical-features" class="nav-link" data-scroll-target="#categorical-features">Categorical features</a>
  <ul class="collapse">
  <li><a href="#role-and-department" id="toc-role-and-department" class="nav-link" data-scroll-target="#role-and-department">Role and department</a></li>
  <li><a href="#demographics-1" id="toc-demographics-1" class="nav-link" data-scroll-target="#demographics-1">Demographics</a></li>
  <li><a href="#work-pattern" id="toc-work-pattern" class="nav-link" data-scroll-target="#work-pattern">Work pattern</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#affect-on-attrition" id="toc-affect-on-attrition" class="nav-link" data-scroll-target="#affect-on-attrition">4. Affect on attrition</a>
  <ul class="collapse">
  <li><a href="#numeric-features-vs-attrition" id="toc-numeric-features-vs-attrition" class="nav-link" data-scroll-target="#numeric-features-vs-attrition">Numeric features vs <code>Attrition</code></a>
  <ul class="collapse">
  <li><a href="#demographics-2" id="toc-demographics-2" class="nav-link" data-scroll-target="#demographics-2">Demographics</a></li>
  <li><a href="#compensation-1" id="toc-compensation-1" class="nav-link" data-scroll-target="#compensation-1">Compensation</a></li>
  <li><a href="#tenure-and-career-1" id="toc-tenure-and-career-1" class="nav-link" data-scroll-target="#tenure-and-career-1">Tenure and career</a></li>
  <li><a href="#satisfaction-and-engagement-1" id="toc-satisfaction-and-engagement-1" class="nav-link" data-scroll-target="#satisfaction-and-engagement-1">Satisfaction and engagement</a></li>
  </ul></li>
  <li><a href="#categorical-features-vs-attrition" id="toc-categorical-features-vs-attrition" class="nav-link" data-scroll-target="#categorical-features-vs-attrition">Categorical features vs Attrition</a>
  <ul class="collapse">
  <li><a href="#role-and-department-breakdown" id="toc-role-and-department-breakdown" class="nav-link" data-scroll-target="#role-and-department-breakdown">Role and department breakdown</a></li>
  <li><a href="#demographics-3" id="toc-demographics-3" class="nav-link" data-scroll-target="#demographics-3">Demographics</a></li>
  <li><a href="#work-pattern-and-attrition" id="toc-work-pattern-and-attrition" class="nav-link" data-scroll-target="#work-pattern-and-attrition">Work pattern and attrition</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#feature-correlation" id="toc-feature-correlation" class="nav-link" data-scroll-target="#feature-correlation">5. Feature Correlation</a>
  <ul class="collapse">
  <li><a href="#correlation-heatmap" id="toc-correlation-heatmap" class="nav-link" data-scroll-target="#correlation-heatmap">Correlation heatmap</a></li>
  <li><a href="#correlation-pairs" id="toc-correlation-pairs" class="nav-link" data-scroll-target="#correlation-pairs">Correlation pairs</a></li>
  </ul></li>
  <li><a href="#eda-summary" id="toc-eda-summary" class="nav-link" data-scroll-target="#eda-summary"><strong>EDA summary</strong></a>
  <ul class="collapse">
  <li><a href="#key-insights-from-eda" id="toc-key-insights-from-eda" class="nav-link" data-scroll-target="#key-insights-from-eda">Key Insights from EDA:</a></li>
  <li><a href="#next-steps" id="toc-next-steps" class="nav-link" data-scroll-target="#next-steps">Next Steps:</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><strong>Exploratory Data Analysis</strong></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<hr>
<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>To begin our project, this notebook performs an exploratory analysis of the IBM HR Analytics Employee Attrition dataset. We investigate the factors that lead to <strong>attrition</strong>, which represents employees leaving the company (either voluntarily or involuntarily). - The overall goal is not only to build a predictive model for the target <code>Attrition</code>, but to discover specific changes the business could make to reduce it. - Attrition poses a significant cost to organizations through lost productivity, rehiring expenses, and weakened team morale. If there are ways to help prevent</p>
</section>
<section id="notebook-outline" class="level2">
<h2 class="anchored" data-anchor-id="notebook-outline">Notebook Outline</h2>
<ol type="1">
<li><a href="#1-load-and-validate-data">Load and validate data</a><br>
</li>
<li><a href="#2-initial-data-summary">Initial data summary</a><br>
</li>
<li><a href="#3-univariate-analysis">Univariate analysis</a><br>
</li>
<li><a href="#4-affect-on-attrition">Affect on attrition</a><br>
</li>
<li><a href="#5-feature-correlation">Feature Correlation</a></li>
</ol>
</section>
<section id="load-and-validate-data" class="level1">
<h1>1. Load and validate data</h1>
<hr>
<p>First, we load the <em>IBM HR Analytics Employee Attrition &amp; Performance</em> dataset from the <code>data/raw/</code> directory. We verify the dataset was read correctly and perform a basic inspection. - <strong>Shape</strong>: 1470 rows × 35 columns. - <strong>Target</strong>: <code>Attrition</code> - <strong>Yes</strong> = left the company, <strong>No</strong> = still employed at the time of data collection. - <strong>Data types</strong>: - <code>int64</code>: 26 columns — numerical features (<code>Age</code>, <code>MonthlyIncome</code>, <code>DistanceFromHome</code>, …). - <code>object</code>: 9 columns — categorical features (<code>Gender</code>, <code>JobRole</code>, <code>BusinessTravel</code>, …). - <strong>No null values</strong>: - According to <code>.info()</code>, there are no missing values in any column. - Columns requiring attention before modeling - Categorical Variables (object dtype): - These need to be one-hot encoded before logistic regression, as the model requires all inputs to be numeric. - Constant or non-informative columns (to be dropped): - <code>EmployeeNumber</code>: Identifier. Only one table so not necessary for any merging. - <code>EmployeeCount</code>: Always 1. - <code>Over18</code>: Always “Y”. - <code>StandardHours</code>: Always 80. - These will be removed to avoid introducing noise or unnecessary dimensionality.</p>
<div id="a31b185b" class="cell" data-execution_count="2">
<div class="cell-output cell-output-stdout">
<pre><code>Shape of dataset: (1470, 35)</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Attrition</th>
<th data-quarto-table-cell-role="th">BusinessTravel</th>
<th data-quarto-table-cell-role="th">DailyRate</th>
<th data-quarto-table-cell-role="th">Department</th>
<th data-quarto-table-cell-role="th">DistanceFromHome</th>
<th data-quarto-table-cell-role="th">Education</th>
<th data-quarto-table-cell-role="th">EducationField</th>
<th data-quarto-table-cell-role="th">EmployeeCount</th>
<th data-quarto-table-cell-role="th">EmployeeNumber</th>
<th data-quarto-table-cell-role="th">EnvironmentSatisfaction</th>
<th data-quarto-table-cell-role="th">Gender</th>
<th data-quarto-table-cell-role="th">HourlyRate</th>
<th data-quarto-table-cell-role="th">JobInvolvement</th>
<th data-quarto-table-cell-role="th">JobLevel</th>
<th data-quarto-table-cell-role="th">JobRole</th>
<th data-quarto-table-cell-role="th">JobSatisfaction</th>
<th data-quarto-table-cell-role="th">MaritalStatus</th>
<th data-quarto-table-cell-role="th">MonthlyIncome</th>
<th data-quarto-table-cell-role="th">MonthlyRate</th>
<th data-quarto-table-cell-role="th">NumCompaniesWorked</th>
<th data-quarto-table-cell-role="th">Over18</th>
<th data-quarto-table-cell-role="th">OverTime</th>
<th data-quarto-table-cell-role="th">PercentSalaryHike</th>
<th data-quarto-table-cell-role="th">PerformanceRating</th>
<th data-quarto-table-cell-role="th">RelationshipSatisfaction</th>
<th data-quarto-table-cell-role="th">StandardHours</th>
<th data-quarto-table-cell-role="th">StockOptionLevel</th>
<th data-quarto-table-cell-role="th">TotalWorkingYears</th>
<th data-quarto-table-cell-role="th">TrainingTimesLastYear</th>
<th data-quarto-table-cell-role="th">WorkLifeBalance</th>
<th data-quarto-table-cell-role="th">YearsAtCompany</th>
<th data-quarto-table-cell-role="th">YearsInCurrentRole</th>
<th data-quarto-table-cell-role="th">YearsSinceLastPromotion</th>
<th data-quarto-table-cell-role="th">YearsWithCurrManager</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>41</td>
<td>Yes</td>
<td>Travel_Rarely</td>
<td>1102</td>
<td>Sales</td>
<td>1</td>
<td>2</td>
<td>Life Sciences</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>Female</td>
<td>94</td>
<td>3</td>
<td>2</td>
<td>Sales Executive</td>
<td>4</td>
<td>Single</td>
<td>5993</td>
<td>19479</td>
<td>8</td>
<td>Y</td>
<td>Yes</td>
<td>11</td>
<td>3</td>
<td>1</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>1</td>
<td>6</td>
<td>4</td>
<td>0</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>49</td>
<td>No</td>
<td>Travel_Frequently</td>
<td>279</td>
<td>Research &amp; Development</td>
<td>8</td>
<td>1</td>
<td>Life Sciences</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>Male</td>
<td>61</td>
<td>2</td>
<td>2</td>
<td>Research Scientist</td>
<td>2</td>
<td>Married</td>
<td>5130</td>
<td>24907</td>
<td>1</td>
<td>Y</td>
<td>No</td>
<td>23</td>
<td>4</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>10</td>
<td>3</td>
<td>3</td>
<td>10</td>
<td>7</td>
<td>1</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>37</td>
<td>Yes</td>
<td>Travel_Rarely</td>
<td>1373</td>
<td>Research &amp; Development</td>
<td>2</td>
<td>2</td>
<td>Other</td>
<td>1</td>
<td>4</td>
<td>4</td>
<td>Male</td>
<td>92</td>
<td>2</td>
<td>1</td>
<td>Laboratory Technician</td>
<td>3</td>
<td>Single</td>
<td>2090</td>
<td>2396</td>
<td>6</td>
<td>Y</td>
<td>Yes</td>
<td>15</td>
<td>3</td>
<td>2</td>
<td>80</td>
<td>0</td>
<td>7</td>
<td>3</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>33</td>
<td>No</td>
<td>Travel_Frequently</td>
<td>1392</td>
<td>Research &amp; Development</td>
<td>3</td>
<td>4</td>
<td>Life Sciences</td>
<td>1</td>
<td>5</td>
<td>4</td>
<td>Female</td>
<td>56</td>
<td>3</td>
<td>1</td>
<td>Research Scientist</td>
<td>3</td>
<td>Married</td>
<td>2909</td>
<td>23159</td>
<td>1</td>
<td>Y</td>
<td>Yes</td>
<td>11</td>
<td>3</td>
<td>3</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>3</td>
<td>3</td>
<td>8</td>
<td>7</td>
<td>3</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>27</td>
<td>No</td>
<td>Travel_Rarely</td>
<td>591</td>
<td>Research &amp; Development</td>
<td>2</td>
<td>1</td>
<td>Medical</td>
<td>1</td>
<td>7</td>
<td>1</td>
<td>Male</td>
<td>40</td>
<td>3</td>
<td>1</td>
<td>Laboratory Technician</td>
<td>2</td>
<td>Married</td>
<td>3468</td>
<td>16632</td>
<td>9</td>
<td>Y</td>
<td>No</td>
<td>12</td>
<td>3</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>6</td>
<td>3</td>
<td>3</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1470 entries, 0 to 1469
Data columns (total 35 columns):
 #   Column                    Non-Null Count  Dtype 
---  ------                    --------------  ----- 
 0   Age                       1470 non-null   int64 
 1   Attrition                 1470 non-null   object
 2   BusinessTravel            1470 non-null   object
 3   DailyRate                 1470 non-null   int64 
 4   Department                1470 non-null   object
 5   DistanceFromHome          1470 non-null   int64 
 6   Education                 1470 non-null   int64 
 7   EducationField            1470 non-null   object
 8   EmployeeCount             1470 non-null   int64 
 9   EmployeeNumber            1470 non-null   int64 
 10  EnvironmentSatisfaction   1470 non-null   int64 
 11  Gender                    1470 non-null   object
 12  HourlyRate                1470 non-null   int64 
 13  JobInvolvement            1470 non-null   int64 
 14  JobLevel                  1470 non-null   int64 
 15  JobRole                   1470 non-null   object
 16  JobSatisfaction           1470 non-null   int64 
 17  MaritalStatus             1470 non-null   object
 18  MonthlyIncome             1470 non-null   int64 
 19  MonthlyRate               1470 non-null   int64 
 20  NumCompaniesWorked        1470 non-null   int64 
 21  Over18                    1470 non-null   object
 22  OverTime                  1470 non-null   object
 23  PercentSalaryHike         1470 non-null   int64 
 24  PerformanceRating         1470 non-null   int64 
 25  RelationshipSatisfaction  1470 non-null   int64 
 26  StandardHours             1470 non-null   int64 
 27  StockOptionLevel          1470 non-null   int64 
 28  TotalWorkingYears         1470 non-null   int64 
 29  TrainingTimesLastYear     1470 non-null   int64 
 30  WorkLifeBalance           1470 non-null   int64 
 31  YearsAtCompany            1470 non-null   int64 
 32  YearsInCurrentRole        1470 non-null   int64 
 33  YearsSinceLastPromotion   1470 non-null   int64 
 34  YearsWithCurrManager      1470 non-null   int64 
dtypes: int64(26), object(9)
memory usage: 402.1+ KB</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>None</code></pre>
</div>
</div>
<section id="column-validation" class="level2">
<h2 class="anchored" data-anchor-id="column-validation">Column validation</h2>
<ul>
<li>All expected columns are confirmed to be present and are correctly named (no spaces, misspellings, etc.).</li>
</ul>
<div id="90e0752e" class="cell" data-execution_count="3">
<div class="cell-output cell-output-stdout">
<pre><code>Column check passed: All expected columns are present.</code></pre>
</div>
</div>
</section>
<section id="drop-non-informative-columns" class="level2">
<h2 class="anchored" data-anchor-id="drop-non-informative-columns">Drop non-informative columns</h2>
<ul>
<li>Columns that do not provide meaningful information are removed:
<ul>
<li><code>EmployeeNumber</code>, <code>EmployeeCount</code>, <code>Over18</code>, <code>StandardHours</code></li>
</ul></li>
<li>Removing these columns at this early stage simplifies the dataset and prevents them from accidentally influencing the data analysis or model.</li>
</ul>
<div id="727889ff" class="cell" data-execution_count="4">
<div class="cell-output cell-output-stdout">
<pre><code>Dropped columns: ['EmployeeCount', 'Over18', 'StandardHours', 'EmployeeNumber']
New shape: (1470, 31)</code></pre>
</div>
</div>
</section>
<section id="export-dataset-with-dropped-columns" class="level2">
<h2 class="anchored" data-anchor-id="export-dataset-with-dropped-columns">Export dataset with dropped columns</h2>
<ul>
<li>Since no further changes will be made in this exploratory notebook, we export the dataset that reflects the dropped columns for use in the next notebook (as <code>data_01.csv</code>).</li>
</ul>
<div id="470f0c91" class="cell" data-execution_count="5">
<div class="cell-output cell-output-stdout">
<pre><code>Data successfully exported to '../data/processed/data_01.csv'</code></pre>
</div>
</div>
</section>
</section>
<section id="initial-data-summary" class="level1">
<h1>2. Initial data summary</h1>
<hr>
<ul>
<li>Numeric features like <code>MonthlyIncome</code> and <code>MonthlyRate</code> have wide ranges and will require scaling.</li>
<li>Categorical features have low to moderate cardinality (max = 9), making them suitable for one-hot encoding.</li>
<li>Ordinal features (<code>Education</code>, <code>JobLevel</code>, satisfaction scores) are already numerically encoded and can be used as-is.</li>
</ul>
<div id="9c301029" class="cell" data-execution_count="6">
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1470 entries, 0 to 1469
Data columns (total 31 columns):
 #   Column                    Non-Null Count  Dtype 
---  ------                    --------------  ----- 
 0   Age                       1470 non-null   int64 
 1   Attrition                 1470 non-null   object
 2   BusinessTravel            1470 non-null   object
 3   DailyRate                 1470 non-null   int64 
 4   Department                1470 non-null   object
 5   DistanceFromHome          1470 non-null   int64 
 6   Education                 1470 non-null   int64 
 7   EducationField            1470 non-null   object
 8   EnvironmentSatisfaction   1470 non-null   int64 
 9   Gender                    1470 non-null   object
 10  HourlyRate                1470 non-null   int64 
 11  JobInvolvement            1470 non-null   int64 
 12  JobLevel                  1470 non-null   int64 
 13  JobRole                   1470 non-null   object
 14  JobSatisfaction           1470 non-null   int64 
 15  MaritalStatus             1470 non-null   object
 16  MonthlyIncome             1470 non-null   int64 
 17  MonthlyRate               1470 non-null   int64 
 18  NumCompaniesWorked        1470 non-null   int64 
 19  OverTime                  1470 non-null   object
 20  PercentSalaryHike         1470 non-null   int64 
 21  PerformanceRating         1470 non-null   int64 
 22  RelationshipSatisfaction  1470 non-null   int64 
 23  StockOptionLevel          1470 non-null   int64 
 24  TotalWorkingYears         1470 non-null   int64 
 25  TrainingTimesLastYear     1470 non-null   int64 
 26  WorkLifeBalance           1470 non-null   int64 
 27  YearsAtCompany            1470 non-null   int64 
 28  YearsInCurrentRole        1470 non-null   int64 
 29  YearsSinceLastPromotion   1470 non-null   int64 
 30  YearsWithCurrManager      1470 non-null   int64 
dtypes: int64(23), object(8)
memory usage: 356.1+ KB</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>None</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">DailyRate</th>
<th data-quarto-table-cell-role="th">DistanceFromHome</th>
<th data-quarto-table-cell-role="th">Education</th>
<th data-quarto-table-cell-role="th">EnvironmentSatisfaction</th>
<th data-quarto-table-cell-role="th">HourlyRate</th>
<th data-quarto-table-cell-role="th">JobInvolvement</th>
<th data-quarto-table-cell-role="th">JobLevel</th>
<th data-quarto-table-cell-role="th">JobSatisfaction</th>
<th data-quarto-table-cell-role="th">MonthlyIncome</th>
<th data-quarto-table-cell-role="th">MonthlyRate</th>
<th data-quarto-table-cell-role="th">NumCompaniesWorked</th>
<th data-quarto-table-cell-role="th">PercentSalaryHike</th>
<th data-quarto-table-cell-role="th">PerformanceRating</th>
<th data-quarto-table-cell-role="th">RelationshipSatisfaction</th>
<th data-quarto-table-cell-role="th">StockOptionLevel</th>
<th data-quarto-table-cell-role="th">TotalWorkingYears</th>
<th data-quarto-table-cell-role="th">TrainingTimesLastYear</th>
<th data-quarto-table-cell-role="th">WorkLifeBalance</th>
<th data-quarto-table-cell-role="th">YearsAtCompany</th>
<th data-quarto-table-cell-role="th">YearsInCurrentRole</th>
<th data-quarto-table-cell-role="th">YearsSinceLastPromotion</th>
<th data-quarto-table-cell-role="th">YearsWithCurrManager</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
<td>1470.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>36.923810</td>
<td>802.485714</td>
<td>9.192517</td>
<td>2.912925</td>
<td>2.721769</td>
<td>65.891156</td>
<td>2.729932</td>
<td>2.063946</td>
<td>2.728571</td>
<td>6502.931293</td>
<td>14313.103401</td>
<td>2.693197</td>
<td>15.209524</td>
<td>3.153741</td>
<td>2.712245</td>
<td>0.793878</td>
<td>11.279592</td>
<td>2.799320</td>
<td>2.761224</td>
<td>7.008163</td>
<td>4.229252</td>
<td>2.187755</td>
<td>4.123129</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>9.135373</td>
<td>403.509100</td>
<td>8.106864</td>
<td>1.024165</td>
<td>1.093082</td>
<td>20.329428</td>
<td>0.711561</td>
<td>1.106940</td>
<td>1.102846</td>
<td>4707.956783</td>
<td>7117.786044</td>
<td>2.498009</td>
<td>3.659938</td>
<td>0.360824</td>
<td>1.081209</td>
<td>0.852077</td>
<td>7.780782</td>
<td>1.289271</td>
<td>0.706476</td>
<td>6.126525</td>
<td>3.623137</td>
<td>3.222430</td>
<td>3.568136</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>18.000000</td>
<td>102.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>30.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1009.000000</td>
<td>2094.000000</td>
<td>0.000000</td>
<td>11.000000</td>
<td>3.000000</td>
<td>1.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>1.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>30.000000</td>
<td>465.000000</td>
<td>2.000000</td>
<td>2.000000</td>
<td>2.000000</td>
<td>48.000000</td>
<td>2.000000</td>
<td>1.000000</td>
<td>2.000000</td>
<td>2911.000000</td>
<td>8047.000000</td>
<td>1.000000</td>
<td>12.000000</td>
<td>3.000000</td>
<td>2.000000</td>
<td>0.000000</td>
<td>6.000000</td>
<td>2.000000</td>
<td>2.000000</td>
<td>3.000000</td>
<td>2.000000</td>
<td>0.000000</td>
<td>2.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>36.000000</td>
<td>802.000000</td>
<td>7.000000</td>
<td>3.000000</td>
<td>3.000000</td>
<td>66.000000</td>
<td>3.000000</td>
<td>2.000000</td>
<td>3.000000</td>
<td>4919.000000</td>
<td>14235.500000</td>
<td>2.000000</td>
<td>14.000000</td>
<td>3.000000</td>
<td>3.000000</td>
<td>1.000000</td>
<td>10.000000</td>
<td>3.000000</td>
<td>3.000000</td>
<td>5.000000</td>
<td>3.000000</td>
<td>1.000000</td>
<td>3.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>43.000000</td>
<td>1157.000000</td>
<td>14.000000</td>
<td>4.000000</td>
<td>4.000000</td>
<td>83.750000</td>
<td>3.000000</td>
<td>3.000000</td>
<td>4.000000</td>
<td>8379.000000</td>
<td>20461.500000</td>
<td>4.000000</td>
<td>18.000000</td>
<td>3.000000</td>
<td>4.000000</td>
<td>1.000000</td>
<td>15.000000</td>
<td>3.000000</td>
<td>3.000000</td>
<td>9.000000</td>
<td>7.000000</td>
<td>3.000000</td>
<td>7.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>60.000000</td>
<td>1499.000000</td>
<td>29.000000</td>
<td>5.000000</td>
<td>4.000000</td>
<td>100.000000</td>
<td>4.000000</td>
<td>5.000000</td>
<td>4.000000</td>
<td>19999.000000</td>
<td>26999.000000</td>
<td>9.000000</td>
<td>25.000000</td>
<td>4.000000</td>
<td>4.000000</td>
<td>3.000000</td>
<td>40.000000</td>
<td>6.000000</td>
<td>4.000000</td>
<td>40.000000</td>
<td>18.000000</td>
<td>15.000000</td>
<td>17.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Unique values per column:</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>Attrition                      2
Gender                         2
PerformanceRating              2
OverTime                       2
MaritalStatus                  3
BusinessTravel                 3
Department                     3
JobInvolvement                 4
StockOptionLevel               4
RelationshipSatisfaction       4
EnvironmentSatisfaction        4
WorkLifeBalance                4
JobSatisfaction                4
Education                      5
JobLevel                       5
EducationField                 6
TrainingTimesLastYear          7
JobRole                        9
NumCompaniesWorked            10
PercentSalaryHike             15
YearsSinceLastPromotion       16
YearsWithCurrManager          18
YearsInCurrentRole            19
DistanceFromHome              29
YearsAtCompany                37
TotalWorkingYears             40
Age                           43
HourlyRate                    71
DailyRate                    886
MonthlyIncome               1349
MonthlyRate                 1427
dtype: int64</code></pre>
</div>
</div>
<section id="target-variable-distribution-attrition" class="level2">
<h2 class="anchored" data-anchor-id="target-variable-distribution-attrition">Target variable distribution: <code>Attrition</code></h2>
<ul>
<li><strong>83.88%</strong> of employees stayed (<code>Attrition = No</code>)</li>
<li><strong>16.12%</strong> of employees left (<code>Attrition = Yes</code>)</li>
<li>There is a significant class imbalance - the majority class (non-attrition) dominates the dataset. This can lead to true positives (predicted and actual Attrition = Yes instances) being ignored by the model.</li>
<li>To mitigate this, we’ll use the <code>class_weight='balanced'</code> parameter in models like logistic regression, which adjusts the loss function to penalize misclassifying the minority class more heavily.</li>
<li>Also, we will use a technique called SMOTE, which oversamples the minority class in a way that does not alter the nature of the data.</li>
</ul>
<div id="3724b399" class="cell" data-execution_count="7">
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Count</th>
<th data-quarto-table-cell-role="th">Percentage</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Attrition</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">No</td>
<td>1233</td>
<td>83.88</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Yes</td>
<td>237</td>
<td>16.12</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="237ddc2f" class="cell" data-execution_count="8">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-9-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="univariate-analysis" class="level1">
<h1>3. Univariate analysis</h1>
<hr>
<p>We analyze the distribution of each feature independently.</p>
<ul>
<li>Numeric features: visualized using histograms and boxplots.</li>
<li>Categorical features: visualized using countplots to show category frequency.</li>
</ul>
<section id="numeric-features" class="level2">
<h2 class="anchored" data-anchor-id="numeric-features">Numeric features</h2>
<ul>
<li>Right-skewed distributions are observed in <code>MonthlyIncome</code>, <code>TotalWorkingYears</code>, <code>YearsAtCompany</code>, and <code>DistanceFromHome</code>. These may benefit from log transformation to reduce the influence of extreme values.</li>
<li>Distributions for ordinal features like <code>Education</code>, <code>JobLevel</code>, <code>JobInvolvement</code>, and the various satisfaction scores are clustered around a few discrete integer values.
<ul>
<li>These represent categorical levels encoded as integers and can be left unscaled.</li>
</ul></li>
<li>Variables such as <code>YearsSinceLastPromotion</code>, <code>YearsWithCurrManager</code>, and <code>NumCompaniesWorked</code> show strong peaks at zero, capturing employees with little prior experience or recent role changes.
<ul>
<li>These may have nonlinear effects on attrition:
<ul>
<li>For example, the risk of attrition might stay flat for several years, then spike suddenly after a long period without promotion or job change.</li>
</ul></li>
</ul></li>
<li>Salary-related variables (<code>HourlyRate</code>, <code>DailyRate</code>, <code>MonthlyRate</code>, <code>MonthlyIncome</code>) have varying scales, which can be more easily compared by standardizing their values.</li>
</ul>
<section id="demographics" class="level3">
<h3 class="anchored" data-anchor-id="demographics">Demographics</h3>
<ul>
<li><code>Age</code> shows a slightly right-skewed distribution, with most employees between 30 and 40 years old.</li>
<li><code>DistanceFromHome</code> is heavily right-skewed, indicating that most employees live within 10 km (~ 6.2 miles) of the workplace.</li>
<li><code>Education</code> is a categorical feature peaking at level 3, with level 5 describing the lowest number of employees.</li>
</ul>
<p>These features may relate to attrition through commute stress, career stage, or not being properly qualified for the position.</p>
<div id="af7361e2" class="cell" data-execution_count="9">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-10-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="compensation" class="level3">
<h3 class="anchored" data-anchor-id="compensation">Compensation</h3>
<blockquote class="blockquote">
<p><strong>Note:</strong> Although <code>StockOptionLevel</code> is an <strong>ordinal categorical variable</strong> representing discrete levels (0–3), we treat it as numerical here purely for the purpose of visualizing its distribution. For modeling, it should be treated as a categorical feature to avoid implying linear relationships between the levels.</p>
</blockquote>
<ul>
<li><code>HourlyRate</code>, <code>DailyRate</code>, and <code>MonthlyRate</code> appear uniformly distributed, suggesting limited variability and therefore limited predictive value for modeling.</li>
<li><code>MonthlyIncome</code> is right-skewed with a long tail and several high outliers, indicating a wide income disparity among employees.</li>
<li><code>PercentSalaryHike</code> is moderately skewed right, with most employees receiving raises between 11% and 15%.</li>
<li><code>StockOptionLevel</code> is heavily concentrated at 0 and 1, with relatively few employees receiving higher stock options.</li>
<li><code>JobLevel</code> is concentrated at levels 1 and 2, implying that most employees are at the lower rungs of the organizational hierarchy.</li>
<li><code>PerformanceRating</code> is almost entirely at level 3, perhaps due to a lack of variation in evaluations.</li>
</ul>
<p>While most compensation variables are evenly spread, actual monthly income, percent salary hikes, and stock option levels show more variation — which may reflect underlying compensation policies for organizational rank (<code>JobLevel</code>) and/or performance-based incentives (<code>PerformanceRating</code>).</p>
<div id="85bcc18f" class="cell" data-execution_count="10">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-11-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="satisfaction-and-engagement" class="level3">
<h3 class="anchored" data-anchor-id="satisfaction-and-engagement">Satisfaction and engagement</h3>
<ul>
<li><code>EnvironmentSatisfaction</code>, <code>JobSatisfaction</code>, and <code>RelationshipSatisfaction</code> all have their largest counts at levels 3 and 4, suggesting most employees report moderate to high satisfaction. However, there are also a significant number of instances for the lower two levels for these features, which are possible areas of potential improvement.
<ul>
<li><code>RelationshipSatisfaction</code> most likely refers to personal relationships (spouse or partner), not interpersonal relationships between employees, although this isn’t specified for the dataset.</li>
</ul></li>
<li><code>JobInvolvement</code> and <code>WorkLifeBalance</code> are heavily concentrated at level 3, indicating a generally engaged workforce with a healthy work-life balance, although the number of those reporting levels 1 and 2 is lower but significant.</li>
</ul>
<p>According to the data, most employees feel moderately satisfied and involved, but there is some room for improvement to target the strong minority who report lower levels of these metrics.</p>
<div id="8e883519" class="cell" data-execution_count="11">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-12-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="tenure-and-career" class="level3">
<h3 class="anchored" data-anchor-id="tenure-and-career">Tenure and career</h3>
<ul>
<li><code>TotalWorkingYears</code>, <code>YearsAtCompany</code>, and <code>YearsInCurrentRole</code> display long right tails, indicating a small group of highly tenured individuals.
<ul>
<li>There is a curious spike at ~ 7.5 years for <code>YearsInCurrentRole</code> - perhaps this represents a group that is ripe for a promotion.</li>
</ul></li>
<li><code>TrainingTimesLastYear</code> shows distinct spikes, most commonly at 2–3 training sessions.</li>
<li><code>YearsSinceLastPromotion</code> shows mostly recent promotions, though some employees have not been promoted for over a decade.</li>
<li><code>YearsWithCurrManager</code> shows clustering at low values (around ~ 0 and ~ 2.0), suggesting frequent managerial changes.
<ul>
<li>This distribution is very similar to <code>YearsInCurrentRole</code> (showing a similar spike around 7.5 years), pointing out a subset of employees experiencing career stagnation.</li>
</ul></li>
<li><code>NumCompaniesWorked</code> also has a right-skewed distribution, with many employees having worked at one or two companies, and fewer with broader external experience.</li>
</ul>
<p>These patterns point to a predominantly early-career workforce with frequent recent promotions and high managerial turnover, though a minority of employees remain in the same roles or under the same managers for extended periods.</p>
<div id="0228027c" class="cell" data-execution_count="12">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="categorical-features" class="level2">
<h2 class="anchored" data-anchor-id="categorical-features">Categorical features</h2>
<section id="role-and-department" class="level3">
<h3 class="anchored" data-anchor-id="role-and-department">Role and department</h3>
<ul>
<li><code>Department</code> is dominated by employees in <code>Research &amp; Development</code>, followed by <code>Sales</code>, with very few in <code>Human Resources</code>.</li>
<li><code>JobRole</code> shows that most employees have the titles <code>Sales Executive</code>, <code>Research Scientist</code>, and <code>Laboratory Technician</code>, while there is a lower representation for director or manager-level roles (as one would expect).
<ul>
<li>The disproportionately high number of Sales Executives relative to Sales Representatives may reflect either inflated titling practices or a focus on high-value client relationships over mass lead generation from an abundance of lower-rung employees (cold calling, mass emails, etc.).</li>
</ul></li>
<li>Suprisingly, <code>EducationField</code> is concentrated in <code>Life Sciences</code> and <code>Medical</code>, with other fields such as <code>Marketing</code> and <code>Technical Degree</code> trailing behind.
<ul>
<li>While IBM is not typically associated with large medical or life sciences teams, this dataset is synthetic and intended for modeling purposes, so the high representation of these education fields likely reflects simulated variety rather than the company’s actual workforce.</li>
</ul></li>
</ul>
<p>Overall, the workforce is concentrated in research and sales functions, with a high representation of life sciences and medical educational backgrounds — suggesting the dataset simulates a company involved in scientific or healthcare-related analytics, despite being labeled as IBM.</p>
<div id="82a8056d" class="cell" data-execution_count="13">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="demographics-1" class="level3">
<h3 class="anchored" data-anchor-id="demographics-1">Demographics</h3>
<ul>
<li><code>Gender</code> shows a roughly 60/40 split between male and female.</li>
<li><code>MaritalStatus</code> shows that a majority of employees are married, followed by single and divorced individuals.
<ul>
<li>The higher proportion of married employees may correlate with longer tenure (perhaps because of having children).</li>
</ul></li>
</ul>
<div id="7b4a13e3" class="cell" data-execution_count="14">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-15-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="work-pattern" class="level3">
<h3 class="anchored" data-anchor-id="work-pattern">Work pattern</h3>
<ul>
<li><code>BusinessTravel</code>: Most employees either travel rarely for business or not at all. Very few travel frequently.</li>
<li><code>OverTime</code>: The majority of employees do not work overtime, though a substantial minority does.</li>
</ul>
<p>The minority of employees who frequently travel or work overtime may suffer from burnout that leads to attrition.</p>
<div id="00c09994" class="cell" data-execution_count="15">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-16-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="affect-on-attrition" class="level1">
<h1>4. Affect on attrition</h1>
<hr>
<ul>
<li>Attrition is most common among (relatively) young employees who earn less, hold lower-level roles, and receive fewer opportunities to grow within the organization.</li>
<li>Long commutes and overtime work also appear to contribute significantly to employee attrition.</li>
<li>This suggests that concentrating efforts or investment to support employees that may be new to the workforce, and/or those that are required to travel and work long hours, may have a significant impact.</li>
</ul>
<section id="numeric-features-vs-attrition" class="level2">
<h2 class="anchored" data-anchor-id="numeric-features-vs-attrition">Numeric features vs <code>Attrition</code></h2>
<section id="demographics-2" class="level3">
<h3 class="anchored" data-anchor-id="demographics-2">Demographics</h3>
<ul>
<li><code>Age</code>: Employees who left the company skew younger, with a noticeable peak in the late 20s – early 30s range. Those who stayed are more evenly distributed across older age groups, suggesting that younger employees may be more prone to leave.</li>
<li><code>DistanceFromHome</code>: There’s a wider spread for employees who left, indicating that longer commutes might correlate with higher attrition risk.</li>
<li><code>Education</code>: Distributions are similar across both groups, implying that education level likely has minimal impact on attrition.</li>
</ul>
<p>Overall, <code>Age</code> and <code>DistanceFromHome</code> may be useful predictors, while <code>Education</code> appears less relevant.</p>
<div id="ff5a04f9" class="cell" data-execution_count="16">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-17-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="compensation-1" class="level3">
<h3 class="anchored" data-anchor-id="compensation-1">Compensation</h3>
<p>Overall, the plots suggest that compensation structure — especially total monthly income and long-term incentives like stock options — may play a meaningful role in employee attrition risk.</p>
<blockquote class="blockquote">
<p><strong>Note:</strong> Although <code>StockOptionLevel</code> is an <strong>ordinal categorical variable</strong> representing discrete levels (0–3), we treat it as numerical here purely for the purpose of visualizing its distribution. For modeling, it should be treated as a categorical feature to avoid implying linear relationships between the levels.</p>
</blockquote>
<ul>
<li><code>MonthlyIncome</code>, <code>DailyRate</code>: Employees who stayed tend to have higher and more widely distributed incomes. Those who left cluster more tightly around lower income levels.
<ul>
<li>This may indicate that employees with lower salaries are more likely to leave, which is expected.</li>
</ul></li>
<li><code>PercentSalaryHike</code>: There is a subtle difference where retained employees received slightly more frequent or higher salary hikes.
<ul>
<li>Although the difference is modest, a small cumulative effect over time might influence retention.</li>
</ul></li>
<li><code>StockOptionLevel</code>: Employees who stayed had slightly more presence at higher stock option levels.
<ul>
<li>This may reflect better long-term incentives provided to retained employees, suggesting stock options could act as a retention booster.</li>
</ul></li>
<li>Other compensation variables like <code>HourlyRate</code>, and <code>MonthlyRate</code> do not show strong separation, suggesting they may be less influential or redundant with <code>MonthlyIncome</code>.</li>
</ul>
<div id="65e83892" class="cell" data-execution_count="17">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-18-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="tenure-and-career-1" class="level3">
<h3 class="anchored" data-anchor-id="tenure-and-career-1">Tenure and career</h3>
<p>These patterns suggest that attrition is more common among employees with shorter tenure, fewer internal promotions, and more prior employers.</p>
<ul>
<li><code>TotalWorkingYears</code>, <code>YearsAtCompany</code>, <code>YearsInCurrentRole</code>, and <code>YearsWithCurrManager</code> are all lower on average for those who left, indicating that shorter tenures are associated with higher attrition risk. This may reflect a lack of long-term engagement or low satisfaction early in term of employment.</li>
<li><code>YearsSinceLastPromotion</code> shows minimal difference between attrition groups, indicating that promotion timing alone may not be a significant driver of employee turnover.</li>
<li><code>NumCompaniesWorked</code>: while employees who left include a more instances indicating many prior employers (indicated by the fatter tail towards higher values), their median NumCompaniesWorked is lower than that of those who stayed, suggesting that attrition may also be common among employees with limited prior experience.</li>
<li><code>TrainingTimesLastYear</code>: Employees who left tend to receive slightly less training than those who stayed, with fewer individuals receiving 3 or more sessions. This may reflect a subtle link between lower development investment and attrition risk.</li>
</ul>
<div id="0f443909" class="cell" data-execution_count="18">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-19-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="satisfaction-and-engagement-1" class="level3">
<h3 class="anchored" data-anchor-id="satisfaction-and-engagement-1">Satisfaction and engagement</h3>
<p>While not all variables show strong separation, <code>JobSatisfaction</code>, <code>EnvironmentSatisfaction</code>, <code>WorkLifeBalance</code>, and <code>JobLevel</code> stand out as having visually apparent associations with attrition.</p>
<blockquote class="blockquote">
<p><strong>NOTE</strong>: While most features shown are ordinal categorical (<code>JobSatisfaction</code>, <code>WorkLifeBalance</code>, etc), they are treated here as quasi-continuous solely to aid visual exploration of distributions.</p>
</blockquote>
<ul>
<li><code>EnvironmentSatisfaction</code>: Employees who stayed tend to report higher environmental satisfaction compared to those who left.</li>
<li><code>JobInvolvement</code>: Difference is minimal.</li>
<li><code>JobLevel</code>: Attrition appears more common among employees at lower job levels (especially level 1), while those in higher positions tend to stay.</li>
<li><code>JobSatisfaction</code>: A higher proportion of employees with low satisfaction left the company, indicating a clear link between job satisfaction and attrition.</li>
<li><code>PerformanceRating</code>: This feature appears largely uniform across attrition groups.</li>
<li><code>RelationshipSatisfaction</code>: Employees with lower relationship satisfaction scores are slightly more represented among those who left.</li>
<li><code>WorkLifeBalance</code>: Attrition is more concentrated among employees who rated their work-life balance poorly (level 1 or 2).</li>
</ul>
<div id="effd77d8" class="cell" data-execution_count="19">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-20-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="categorical-features-vs-attrition" class="level2">
<h2 class="anchored" data-anchor-id="categorical-features-vs-attrition">Categorical features vs Attrition</h2>
<section id="role-and-department-breakdown" class="level3">
<h3 class="anchored" data-anchor-id="role-and-department-breakdown">Role and department breakdown</h3>
<ul>
<li>Department
<ul>
<li>Attrition is highest in Sales and Human Resources, suggesting these departments may involve higher stress or lower engagement, while Research &amp; Development shows stronger retention, likely due to more specialized, stable roles.</li>
</ul></li>
<li>Job role
<ul>
<li>Sales Representatives and Lab Technicians face the steepest attrition, highlighting a potential need for better support or career development in high-turnover roles, whereas leadership and research positions demonstrate strong retention.</li>
</ul></li>
<li>Education
<ul>
<li>Attrition is higher among employees with backgrounds in Human Resources, Marketing, and Technical Degrees, which may reflect dissatisfaction within those roles, while fields like Life Sciences and Medical show stronger retention, possibly due to better support from the organization and alignment of education and job expectations.</li>
</ul></li>
</ul>
<div id="4098cab9" class="cell" data-execution_count="20">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-21-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="demographics-3" class="level3">
<h3 class="anchored" data-anchor-id="demographics-3">Demographics</h3>
<ul>
<li><code>Gender</code> shows little predictive value, with similar attrition rates across males and females.</li>
<li><code>MaritalStatus</code>, however, reveals that single employees are significantly more likely to leave, perhaps reflecting differences in financial stability or lifestyle priorities (such as having children).</li>
</ul>
<div id="9a9eb7f3" class="cell" data-execution_count="21">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-22-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="work-pattern-and-attrition" class="level3">
<h3 class="anchored" data-anchor-id="work-pattern-and-attrition">Work pattern and attrition</h3>
<ul>
<li><code>BusinessTravel</code>: Employees who travel frequently show significantly higher attrition rates. Those who travel rarely have lower rates, and non-travel employees show the lowest rate. There is a clear positive relationship between the amount of travel and attrition rate.</li>
<li><code>OverTime</code>: There is a huge increase in attrition among employees who work overtime, reinforcing the idea that excessive workload contributes to dissatisfaction and departure.</li>
<li><code>JobLevel</code>: Generally, attrition decreases as job level increases. Entry-level employees (<code>JobLevel</code> = 1) show the highest attrition, while mid to senior levels (3–5) show better retention. There is a rise in attrition at job level 3 which slightly disrupts this trend, warranting further investigation of the specific conditions of employment at this level.</li>
<li><code>StockOptionLevel</code>: Employees with no stock options (0) have the highest attrition. Those with stock options at levels 1 to 3 show lower attrition, suggesting that equity incentives may help with retention. Notably, <code>StockOptionLevel</code> 3 has worse retention than levels 1 and 2.</li>
</ul>
<p>Employees with heavy travel or overtime demands face much higher attrition - a possible reflection of poor work-life balance. Lower job levels and minimal stock options are also linked to higher attrition, suggesting that advancement and long-term incentives play a key role in retention.</p>
<div id="e59aa24e" class="cell" data-execution_count="22">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-23-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="feature-correlation" class="level1">
<h1>5. Feature Correlation</h1>
<hr>
<ul>
<li>Salary, job level, and tenure features are tightly interlinked, signaling potential redundancy that could inflate model importance unless explicitly controlled for.</li>
<li>In contrast, satisfaction metrics and rate-based pay features stand apart—offering potentially unique signals that reflect individual experience rather than structural seniority.</li>
</ul>
<section id="correlation-heatmap" class="level2">
<h2 class="anchored" data-anchor-id="correlation-heatmap">Correlation heatmap</h2>
<p>Compensation and tenure metrics tend to move together, while satisfaction, training, and rate features operate more independently.</p>
<ul>
<li><code>JobLevel</code>, <code>MonthlyIncome</code>, and <code>TotalWorkingYears</code> are tightly correlated, reflecting growth with seniority.</li>
<li>Tenure metrics like <code>YearsAtCompany</code>, <code>YearsSinceLastPromotion</code>, and <code>YearsWithCurrManager</code> also show strong internal alignment.</li>
<li><code>PerformanceRating</code> and <code>PercentSalaryHike</code> are moderately linked, hinting at structured raise policies.</li>
<li>Most satisfaction and rate-based pay features (<code>DailyRate</code>, <code>HourlyRate</code>) show low correlation with other metrics.</li>
<li>Negative correlations are rare, such as between <code>NumCompaniesWorked</code> and <code>YearsWithCurrManager</code>.</li>
</ul>
<div id="ad7afaaa" class="cell" data-execution_count="23">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_eda_files/figure-html/cell-24-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="correlation-pairs" class="level2">
<h2 class="anchored" data-anchor-id="correlation-pairs">Correlation pairs</h2>
<ul>
<li>Strong correlations between <code>JobLevel</code>, <code>MonthlyIncome</code>, and <code>TotalWorkingYears</code> reflect a predictable hierarchy: tenure drives advancement, which drives pay.<br>
</li>
<li>Similarly, <code>YearsAtCompany</code>, <code>YearsInCurrentRole</code>, and <code>YearsWithCurrManager</code> are linked, capturing overlapping aspects of employee longevity.</li>
<li>The pairing of <code>PercentSalaryHike</code> and <code>PerformanceRating</code> suggests a structured, performance-tied raise system—potentially redundant in modeling.</li>
</ul>
<div id="41e035b4" class="cell" data-execution_count="24">
<div class="cell-output cell-output-stdout">
<pre><code>Highly correlated numeric feature pairs (|corr| &gt; 0.7):</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Feature 1</th>
<th data-quarto-table-cell-role="th">Feature 2</th>
<th data-quarto-table-cell-role="th">Correlation</th>
<th data-quarto-table-cell-role="th">AbsCorr</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">134</td>
<td>JobLevel</td>
<td>MonthlyIncome</td>
<td>0.950300</td>
<td>0.950300</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">141</td>
<td>JobLevel</td>
<td>TotalWorkingYears</td>
<td>0.782208</td>
<td>0.782208</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">198</td>
<td>PercentSalaryHike</td>
<td>PerformanceRating</td>
<td>0.773550</td>
<td>0.773550</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">168</td>
<td>MonthlyIncome</td>
<td>TotalWorkingYears</td>
<td>0.772893</td>
<td>0.772893</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">249</td>
<td>YearsAtCompany</td>
<td>YearsWithCurrManager</td>
<td>0.769212</td>
<td>0.769212</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">247</td>
<td>YearsAtCompany</td>
<td>YearsInCurrentRole</td>
<td>0.758754</td>
<td>0.758754</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">251</td>
<td>YearsInCurrentRole</td>
<td>YearsWithCurrManager</td>
<td>0.714365</td>
<td>0.714365</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="eda-summary" class="level1">
<h1><strong>EDA summary</strong></h1>
<hr>
<section id="key-insights-from-eda" class="level2">
<h2 class="anchored" data-anchor-id="key-insights-from-eda">Key Insights from EDA:</h2>
<ul>
<li><strong>Target imbalance</strong>:
<ul>
<li>Only ~16% of employees in the dataset have <code>Attrition = Yes</code>, indicating significant class imbalance. Future modeling should use metrics like ROC-AUC or recall instead of just accuracy.</li>
</ul></li>
<li><strong>Strong predictors identified</strong>:
<ul>
<li>Employees who work <strong>OverTime</strong> are nearly 3× more likely to leave.</li>
<li><strong>Low JobSatisfaction</strong>, <strong>shorter tenure</strong> (<code>YearsAtCompany</code>), and <strong>low WorkLifeBalance</strong> are also associated with higher attrition.</li>
<li><strong>Younger employees</strong>, <strong>low income</strong>, those with a longer commute (<code>DistanceFromHome</code>) and those in certain <strong>JobRoles</strong> (Sales, Laboratory Technician, …) appear to be more likely to leave.</li>
</ul></li>
<li><strong>Feature quality</strong>:
<ul>
<li>No missing values or duplicates detected.</li>
<li>All columns passed structure validation.</li>
<li><code>EmployeeCount</code>, <code>StandardHours</code>, and <code>Over18</code> show no variance and were dropped, along with the identifying column.</li>
<li>No negative or illogical values in numeric fields.</li>
</ul></li>
<li><strong>Correlation observations</strong>:
<ul>
<li>Strong correlations cluster around compensation and tenure.</li>
<li>Satisfaction, engagement, and location-related variables remain largely independent, offering distinct, potentially valuable signals for modeling attrition.</li>
</ul></li>
</ul>
</section>
<section id="next-steps" class="level2">
<h2 class="anchored" data-anchor-id="next-steps">Next Steps:</h2>
<ol type="1">
<li><strong>Encode categorical variables</strong> appropriately for modeling.</li>
<li><strong>Scale numeric features</strong> if using distance-based or linear models.</li>
<li><strong>Stratify training/test split</strong> to preserve class imbalance.</li>
<li><strong>Prepare data for model interpretability</strong>.</li>
</ol>
<p>The dataset appears clean and predictive, with several features that are both statistically and intuitively linked to attrition.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>